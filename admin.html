<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Manage Questions</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="admin-container">
    <h2>Admin Dashboard</h2>
    <form id="addQuestionForm">
      <select id="subject">
        <option>Programming</option>
        <option>Geography</option>
        <option>Mathematics</option>
        <option>Entertainment</option>
      </select>
      <input type="text" id="question" placeholder="Enter Question" required>
      <input type="text" id="option1" placeholder="Option 1" required>
      <input type="text" id="option2" placeholder="Option 2" required>
      <input type="text" id="option3" placeholder="Option 3" required>
      <input type="text" id="option4" placeholder="Option 4" required>
      <input type="number" id="correct" placeholder="Correct Option (0-3)" required>
      <button type="submit">Add Question</button>
    </form>
    <h3>Saved Questions</h3>
    <div id="questionsList"></div>
  </div>

  <script>
    // Load saved questions from localStorage
    let allQuestions = JSON.parse(localStorage.getItem("quizData")) || {
      Programming: [],
      Geography: [],
      Mathematics: [],
      Entertainment: []
    };

    const form = document.getElementById("addQuestionForm");
    const list = document.getElementById("questionsList");

    function renderQuestions() {
      list.innerHTML = "";
      for (let subject in allQuestions) {
        if (allQuestions[subject].length > 0) {
          list.innerHTML += `<h4>${subject}</h4>`;
          allQuestions[subject].forEach((q, index) => {
            list.innerHTML += `<p>${index+1}. ${q.question} 
              <button onclick="deleteQuestion('${subject}', ${index})">‚ùå Delete</button></p>`;
          });
        }
      }
    }

    function deleteQuestion(subject, index) {
      allQuestions[subject].splice(index, 1);
      localStorage.setItem("quizData", JSON.stringify(allQuestions));
      renderQuestions();
    }

    form.addEventListener("submit", function(e){
      e.preventDefault();
      let subject = document.getElementById("subject").value;
      let q = document.getElementById("question").value;
      let options = [
        document.getElementById("option1").value,
        document.getElementById("option2").value,
        document.getElementById("option3").value,
        document.getElementById("option4").value
      ];
      let correct = parseInt(document.getElementById("correct").value);

      allQuestions[subject].push({ question: q, options: options, correctAnswer: correct });
      localStorage.setItem("quizData", JSON.stringify(allQuestions));
      renderQuestions();
      form.reset();
    });

    renderQuestions();
  </script>
</body>
</html>
